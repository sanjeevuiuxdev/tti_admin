{
    "sourceFile": "src/pages/Dashboard.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 3,
            "patches": [
                {
                    "date": 1762268900594,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1762269624615,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,13 +1,15 @@\n-import Topbar from \"../components/Topbar\";\n+import { useAuth } from \"../auth/AuthContext\";\n+\n export default function Dashboard() {\n-  const name = localStorage.getItem(\"admin_username\") || \"Admin\";\n+  const { logout } = useAuth();\n+  const name = typeof window !== \"undefined\" ? localStorage.getItem(\"admin_username\") : \"Admin\";\n   return (\n-    <>\n-      <Topbar/>\n-      <div className=\"page\">\n-        <h1>Welcome, {name}</h1>\n-        <p>Use the top navigation to manage Categories and Blogs.</p>\n+    <div style={{padding:16}}>\n+      <div style={{display:\"flex\",justifyContent:\"space-between\",alignItems:\"center\"}}>\n+        <h1>Dashboard</h1>\n+        <button onClick={logout} style={{background:\"#111\",color:\"#fff\",padding:\"8px 12px\",borderRadius:8}}>Logout</button>\n       </div>\n-    </>\n+      <p>Welcome, {name || \"Admin\"}.</p>\n+    </div>\n   );\n }\n"
                },
                {
                    "date": 1762276246481,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,15 +1,34 @@\n+import { Link } from \"react-router-dom\";\n import { useAuth } from \"../auth/AuthContext\";\n \n export default function Dashboard() {\n   const { logout } = useAuth();\n   const name = typeof window !== \"undefined\" ? localStorage.getItem(\"admin_username\") : \"Admin\";\n+\n   return (\n-    <div style={{padding:16}}>\n-      <div style={{display:\"flex\",justifyContent:\"space-between\",alignItems:\"center\"}}>\n+    <div style={{ padding: 24 }}>\n+      <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\" }}>\n         <h1>Dashboard</h1>\n-        <button onClick={logout} style={{background:\"#111\",color:\"#fff\",padding:\"8px 12px\",borderRadius:8}}>Logout</button>\n+        <button onClick={logout} style={{ background: \"#111\", color: \"#fff\", padding: \"8px 12px\", borderRadius: 8 }}>\n+          Logout\n+        </button>\n       </div>\n+\n       <p>Welcome, {name || \"Admin\"}.</p>\n+\n+      <div style={{ marginTop: 32, display: \"flex\", gap: 16 }}>\n+        <Link to=\"/categories\" style={linkStyle}>Manage Categories</Link>\n+        <Link to=\"/blogs\" style={linkStyle}>Manage Blogs</Link>\n+        <Link to=\"/blogs/create\" style={linkStyle}>+ Create Blog</Link>\n+      </div>\n     </div>\n   );\n }\n+\n+const linkStyle = {\n+  background: \"#111\",\n+  color: \"#fff\",\n+  padding: \"10px 16px\",\n+  borderRadius: 8,\n+  textDecoration: \"none\"\n+};\n"
                },
                {
                    "date": 1762593594239,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,34 +1,191 @@\n+import { useEffect, useState } from \"react\";\n import { Link } from \"react-router-dom\";\n-import { useAuth } from \"../auth/AuthContext\";\n+import Topbar from \"../components/Topbar\";\n+import { api } from \"../api/client\";\n \n export default function Dashboard() {\n-  const { logout } = useAuth();\n-  const name = typeof window !== \"undefined\" ? localStorage.getItem(\"admin_username\") : \"Admin\";\n+  const [loading, setLoading] = useState(true);\n+  const [stats, setStats] = useState({\n+    posts: 0,\n+    categories: 0,\n+    comments: 0,\n+    pendingComments: 0,\n+  });\n+  const [err, setErr] = useState(\"\");\n \n+  useEffect(() => {\n+    let cancelled = false;\n+\n+    async function load() {\n+      try {\n+        setLoading(true);\n+\n+        // Pull lists in parallel; fall back gracefully if comments endpoint\n+        // isn‚Äôt present yet.\n+        const [blogsRes, catsRes, commentsRes] = await Promise.allSettled([\n+          api.get(\"/api/blogs\"),\n+          api.get(\"/api/categories\"),\n+          api.get(\"/api/comments\"),\n+        ]);\n+\n+        const posts =\n+          blogsRes.status === \"fulfilled\" ? blogsRes.value.data.length : 0;\n+        const categories =\n+          catsRes.status === \"fulfilled\" ? catsRes.value.data.length : 0;\n+\n+        let comments = 0;\n+        let pendingComments = 0;\n+        if (commentsRes.status === \"fulfilled\") {\n+          const all = Array.isArray(commentsRes.value.data)\n+            ? commentsRes.value.data\n+            : [];\n+          comments = all.length;\n+          pendingComments = all.filter((c) => !c.approved).length;\n+        }\n+\n+        if (!cancelled) {\n+          setStats({ posts, categories, comments, pendingComments });\n+          setErr(\"\");\n+        }\n+      } catch (e) {\n+        if (!cancelled) setErr(\"Failed to load stats.\");\n+      } finally {\n+        if (!cancelled) setLoading(false);\n+      }\n+    }\n+\n+    load();\n+    return () => {\n+      cancelled = true;\n+    };\n+  }, []);\n+\n   return (\n-    <div style={{ padding: 24 }}>\n-      <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\" }}>\n-        <h1>Dashboard</h1>\n-        <button onClick={logout} style={{ background: \"#111\", color: \"#fff\", padding: \"8px 12px\", borderRadius: 8 }}>\n-          Logout\n-        </button>\n+    <>\n+      <Topbar />\n+      <div className=\"page\">\n+        <div className=\"dash-header\">\n+          <h2>Dashboard</h2>\n+          <p className=\"muted\">Welcome, admin.</p>\n+        </div>\n+\n+        {err ? <div className=\"alert error\">{err}</div> : null}\n+\n+        <div className=\"stat-grid\">\n+          <Link to=\"/blogs\" className=\"stat-card\">\n+            <div className=\"stat-top\">\n+              <span className=\"stat-label\">Total Posts</span>\n+              <span className=\"stat-icon\">üìù</span>\n+            </div>\n+            <div className=\"stat-value\">\n+              {loading ? \"‚Ä¶\" : stats.posts.toLocaleString()}\n+            </div>\n+            <div className=\"stat-link\">Manage Blogs ‚Üí</div>\n+          </Link>\n+\n+          <Link to=\"/categories\" className=\"stat-card\">\n+            <div className=\"stat-top\">\n+              <span className=\"stat-label\">Categories</span>\n+              <span className=\"stat-icon\">üóÇÔ∏è</span>\n+            </div>\n+            <div className=\"stat-value\">\n+              {loading ? \"‚Ä¶\" : stats.categories.toLocaleString()}\n+            </div>\n+            <div className=\"stat-link\">Manage Categories ‚Üí</div>\n+          </Link>\n+\n+          <Link to=\"/comments\" className=\"stat-card\">\n+            <div className=\"stat-top\">\n+              <span className=\"stat-label\">Comments</span>\n+              <span className=\"stat-icon\">üí¨</span>\n+            </div>\n+            <div className=\"stat-value\">\n+              {loading ? \"‚Ä¶\" : stats.comments.toLocaleString()}\n+            </div>\n+            <div className=\"stat-link\">View Comments ‚Üí</div>\n+          </Link>\n+\n+          <Link to=\"/comments?status=pending\" className=\"stat-card warning\">\n+            <div className=\"stat-top\">\n+              <span className=\"stat-label\">Pending Approval</span>\n+              <span className=\"stat-icon\">‚è≥</span>\n+            </div>\n+            <div className=\"stat-value\">\n+              {loading ? \"‚Ä¶\" : stats.pendingComments.toLocaleString()}\n+            </div>\n+            <div className=\"stat-link\">Review Pending ‚Üí</div>\n+          </Link>\n+        </div>\n+\n+        <div className=\"quick-actions\">\n+          <Link to=\"/categories\" className=\"btn\">\n+            Manage Categories\n+          </Link>\n+          <Link to=\"/blogs\" className=\"btn\">\n+            Manage Blogs\n+          </Link>\n+          <Link to=\"/blogs/create\" className=\"btn primary\">\n+            + Create Blog\n+          </Link>\n+        </div>\n       </div>\n \n-      <p>Welcome, {name || \"Admin\"}.</p>\n+      {/* Inline styles to keep this copy-pasteable */}\n+      <style>{`\n+        .page { padding: 24px; }\n+        .dash-header h2 { margin: 0 0 4px; }\n+        .muted { color: #6b7280; margin: 0 0 16px; }\n \n-      <div style={{ marginTop: 32, display: \"flex\", gap: 16 }}>\n-        <Link to=\"/categories\" style={linkStyle}>Manage Categories</Link>\n-        <Link to=\"/blogs\" style={linkStyle}>Manage Blogs</Link>\n-        <Link to=\"/blogs/create\" style={linkStyle}>+ Create Blog</Link>\n-      </div>\n-    </div>\n+        .alert.error {\n+          background:#fee2e2;\n+          color:#991b1b;\n+          border:1px solid #fecaca;\n+          padding:10px 12px;\n+          border-radius:8px;\n+          margin-bottom:16px;\n+        }\n+\n+        .stat-grid {\n+          display: grid;\n+          grid-template-columns: repeat(4, minmax(0, 1fr));\n+          gap: 16px;\n+          margin-bottom: 24px;\n+        }\n+        @media (max-width: 1100px) {\n+          .stat-grid { grid-template-columns: repeat(2, minmax(0, 1fr)); }\n+        }\n+        @media (max-width: 640px) {\n+          .stat-grid { grid-template-columns: 1fr; }\n+        }\n+\n+        .stat-card {\n+          display: block;\n+          padding: 16px;\n+          border-radius: 14px;\n+          border: 1px solid #e5e7eb;\n+          background: #fff;\n+          text-decoration: none;\n+          color: inherit;\n+          transition: box-shadow .2s ease, transform .08s ease;\n+        }\n+        .stat-card:hover { box-shadow: 0 6px 20px rgba(0,0,0,.06); transform: translateY(-1px); }\n+        .stat-card.warning { border-color:#fde68a; background:#fffbeb; }\n+        .stat-top { display:flex; align-items:center; justify-content:space-between; }\n+        .stat-label { font-size: 14px; color:#6b7280; }\n+        .stat-icon { font-size: 18px; }\n+        .stat-value { font-size: 34px; font-weight: 700; margin: 8px 0 6px; }\n+        .stat-link { font-size: 13px; color:#2563eb; }\n+\n+        .quick-actions { display:flex; gap:12px; margin-top: 8px; }\n+        .btn {\n+          display:inline-flex; align-items:center; justify-content:center;\n+          padding:10px 14px; border-radius:10px; border:1px solid #e5e7eb;\n+          background:#fff; color:#111827; text-decoration:none; font-weight:600;\n+        }\n+        .btn:hover { background:#f9fafb; }\n+        .btn.primary { background:#111; color:#fff; border-color:#111; }\n+        .btn.primary:hover { opacity:.92; }\n+      `}</style>\n+    </>\n   );\n }\n-\n-const linkStyle = {\n-  background: \"#111\",\n-  color: \"#fff\",\n-  padding: \"10px 16px\",\n-  borderRadius: 8,\n-  textDecoration: \"none\"\n-};\n"
                }
            ],
            "date": 1762268900594,
            "name": "Commit-0",
            "content": "import Topbar from \"../components/Topbar\";\nexport default function Dashboard() {\n  const name = localStorage.getItem(\"admin_username\") || \"Admin\";\n  return (\n    <>\n      <Topbar/>\n      <div className=\"page\">\n        <h1>Welcome, {name}</h1>\n        <p>Use the top navigation to manage Categories and Blogs.</p>\n      </div>\n    </>\n  );\n}\n"
        }
    ]
}